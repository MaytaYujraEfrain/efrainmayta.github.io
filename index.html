<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIAPP</title>
    <link rel="shortcut icon" href="favicon.ico" type="img/app.png">
    <link rel="manifest" href="manifest.json">

    <script src="ap.js"></script>
    <link rel="stylesheet" href="stilos.css">

    <link rel="icon" type="image/x-icon" href="img/app.png">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <!--ICONOS BOSTRAp-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

</head>

<body>
    <div class="lista">
        <h2>Bienvenido a mi APP✌️</h2>
        <div class="col-sm-6">
            <div class="form-control"> <i class="bi bi-camera2"></i>
                <img id="photo" class="photo">
                <input type="file" accept="img/camara.png" capture="camera" class="form-control" id="camera" />
            </div>
        </div>

        <br>
        <div class="row g-3">
            <div class="col-sm-3">
                <a href="tel:54911-1234-5678" id="disabledTextInput" class="form-control"><i
                        class="bi bi-telephone-fill"></i> Llámenos</a>

            </div>
            <div class="col-sm-3">
                <a href=”sms://+54911-1234-5678?body=hola%20mundo!”id="disabledTextInput" class="form-control"><i
                        class="bi bi-chat-square-dots-fill"></i>
                    SMS aqui</a>

            </div>

        </div>
        <br>
        <div class="row g-3">

            <div class="col-sm-3">
                <button onclick="getLocation()" target="_blank" class="form-control"><i class="bi bi-geo-alt-fill"></i>
                    ubicación</button>

            </div>
            <div class="col-sm-3">
                <button onclick="loadLocation()" target="_blank" class="form-control"><i class="bi bi-geo-alt-fill"></i>
                    Localizacion</button>
            </div>



        </div>
        <br>
        <div class="row g-3">
            <div class="col-sm-3">
                <button onclick="Gravar()" target="_blank" class="form-control"><i class="bi bi-camera-reels-fill"></i>
                    Grabar</button>
            </div>
            <div class="col-sm-3">
                <div class="card" style="width: 8rem;">
                    <a href="https://walink.co/513c5d" class="btn btn-success"><i class="bi bi-whatsapp"></i>
                        WhatsApp</a>
                </div>
            </div>
        </div>


    </div>


    <script>
        //geolocalizacion
        function loadLocation() {
            navigator.geolocation.getCurrentPosition((data) => console.table(data), (err) => console.error(err))
        }


        //Gravar video

        function Gravar() {

            // Declare global variables.
            const globalStream = null;

            // Active permisions of navigator for record video with audio.
            navigator.mediaDevices
                .getUserMedia({ audio: true, video: true })
                .then((stream) => {
                    globalStream = stream;
                });


            // Declare array empty for save chunks.
            let recordedChunks = [];

            // Event for save data recorered into array chunks.
            mediaRecorder.addEventListener('dataavailable', (e) => {
                if (e.data.size > 0) {
                    recordedChunks.push(e.data);
                }
            });

            // Event stop where you can execute custom actions.
            mediaRecorder.addEventListener('stop', function () {
                console.log('addEventListener stop');

                // Create object url from blob.
                const objectRef = URL.createObjectURL(new Blob(recordedChunks));
            });
        }

    </script>
</body>

</html>